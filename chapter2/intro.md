# 第二章 正则表达式，文本规范化，编辑距离

> 用户：我不开心。  
> ELIZA：你认为来这里会帮助你变得开心吗  
> 用户：我需要一些帮助，这一点似乎很确定。  
> ELIZA：如果你得到一些帮助，对你意味着什么  
> 用户：也许我可以学会我妈妈相处。  
> ELIZA：告诉我更多关于你的家庭的事情。  
> 用户：我妈妈照顾我。  
> ELIZA：你家里还有谁照顾你  
> 用户：我的父亲。  
> ELIZA：你的父亲  
> 用户：你在某些方面很像我的父亲。  
> —— Weizenbaum (1966)

上面的对话来自一个早期的自然语言处理系统 ELIZA，它可以模仿一个使用当事人中心治疗法的治疗师的反应与用户进行有限的对话（Weizenbaum, 1966）。ELIZA 是一个非常简单的程序，该程序使用模式匹配来识别像“I need X”这样的短语，并将其翻译成合适的输出，比如“What would it mean to you if you got X?”。这种简单的技术在这个领域很成功，因为 ELIZA 实际上不需要懂得什么是当事人中心治疗法。正如 Weizenbaum 所指出的那样，这是为数不多的对话类型之一，听众即使对世界一无所知也可以做出反应。ELIZA 对人类对话的模仿非常成功：许多与 ELIZA 互动的人开始相信，它真的理解他们和他们的问题，甚至即使工作人员向他们解释了程序运行原理后，许多人依然相信 ELIZA 的能力（Weizenbaum, 1976），甚至在今天，这种聊天机器人也是一种有趣的消遣。

当然，现代的聊天机器人也不只是消遣工具；正如我们即将在第 24 章看到的，它们可以回答问题、预订机票或寻找餐馆，这些功能都依赖于对用户意图更复杂的理解。尽管如此，ELIZA 和其他聊天机器人所使用的这种基于模式的简单方法，在自然语言处理中依然发挥着至关重要的作用。

我们将从描述文本模式的最重要工具开始：正则表达式。正则表达式可以用来指定我们可能要从文档中提取的字符串，从上面 Eliza 中的“I need X”的翻译，到定义 $199 或 $24.99 这样的字符串，可用于从一篇文档中提取价格表。
